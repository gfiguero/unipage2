{% extends 'UniPageBundle:Page:base.html.twig' %}
{% use 'UniPageBundle:Page:header.html.twig' %}
{% use 'UniPageBundle:Page:main.html.twig' %}
{% use 'UniPageBundle:Page:about.html.twig' %}
{% use 'UniPageBundle:Page:feature.html.twig' %}
{% use 'UniPageBundle:Page:contact.html.twig' %}
{% use 'UniPageBundle:Page:footer.html.twig' %}


{% block title %}{% if user %}{% if user.brand %}{{ user.brand|raw }}{% endif %}{% endif %}{% endblock %}

{% block body %}
    {% if user %}
        {% block header %}{{ parent() }}{% endblock %}
        {% block main %}{{ parent() }}{% endblock %}
        {% block about %}{{ parent() }}{% endblock %}
        {% block feature %}{{ parent() }}{% endblock %}
        {% block contact %}{{ parent() }}{% endblock %}
        {% block footer %}{{ parent() }}{% endblock %}
    {% else %}
        {{ 'Inactive Host' }}
    {% endif %}
{% endblock %}

{% block stylesheet %}
    {% if photographies is not empty %}
        {% set photography1 = attribute(photographies, 0) %}
        <style type="text/css">#main {background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('{{ vich_uploader_asset(photography1, 'imagefile', 'Uni\\AdminBundle\\Entity\\Photography')|imagine_filter('main_photography') }}');}</style>
        {% if photographies|length > 1 %}
            {% set photography2 = attribute(photographies, 1) %}
            <style type="text/css">#contact {background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('{{ vich_uploader_asset(photography2, 'imagefile', 'Uni\\AdminBundle\\Entity\\Photography')|imagine_filter('main_photography') }}');}</style>
        {% endif %}
    {% endif %}
    {% if user.brandprimarycolor %}
        <style type="text/css">
            .navbar-scroll .navbar-nav > li > a:hover, .navbar-scroll .navbar-nav > li > a:focus {
                background-color: {{ user.brandprimarycolor }};
            }
            .navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
                background-color: {{ color_darken(user.brandprimarycolor, 20) }};
            }
            .main-calltoaction {
                background-color: {{ user.brandprimarycolor }};
            }
            #about {
                background-color: {{ user.brandprimarycolor }};
            }
        </style>
    {% endif %}
    {% if user.brandsecondarycolor %}
        <style type="text/css">
            .contact-panel {
                background-color: {{ color_alpha(user.brandsecondarycolor, 50) }};
            }
        </style>
    {% endif %}
{% endblock %}
